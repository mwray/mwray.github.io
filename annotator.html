<html>
<head>
    <style>
        .dot {
              width: 4px;
              height: 4px;
              background-color: red;
              position: absolute;
            }
        #removeBox
        {
            display: none;
            background-color: #eee;
            border-radius: 5px;
            border: 1px solid #aaa;
            position: fixed;
            width: 300px;
            left: 50%;
            margin-left: -150px;
            padding: 6px 8px 8px;
            box-sizing: border-box;
            text-align: center;
        }
        #removeBox button {
            background-color: #ccc;
            display: inline-block;
            border-radius: 3px;
            border: 1px solid #aaa;
            padding: 2px;
            text-align: center;
            width: 80px;
            cursor: pointer;
        }
        #removeBox button:hover
        {
            background-color: #ddd;
        }
        #removeBox .message
        {
            text-align: left;
            margin-bottom: 8px;
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script language="JavaScript" type="text/javascript" >
        function doConfirm(msg, yesFn, noFn) {
            var confirmBox = $("#confirmBox");
            confirmBox.find(".message").text(msg);
            confirmBox.find(".yes,.no").unbind().click(function() {
                confirmBox.hide();
            });
            confirmBox.find(".yes").click(yesFn);
            confirmBox.find(".no").click(noFn);
            confirmBox.show();
        }
        $(function() {
            $("#test").click(function(e) {
                var offset = $(this).offset();
                var relativeX = (e.pageX - 2);
                var relativeY = (e.pageY - 2);
                console.log(e.pageX,':',e.pageY);
                $(".position").val("afaf");
                dot = document.createElement('div');
                dot.className = "dot";
                dot.id = "d";
                var removeDot = function(){
                    console.log("DONE", this.id);
                    this.remove();
                }
                dot.onclick=removeDot;
                dot.style.left = relativeX  + "px";
                dot.style.top = relativeY + "px";
                document.body.appendChild(dot);
            });
        });

        function removeAll() {
                console.log("REMOVING ALL");
                var dots = document.getElementsByClassName("dot");
                var max_l = dots.length;
                if(confirm('Are you sure you want to remove all annotated vehicles?'))
                {
                    for(var i=0; i < max_l; i++) {
                        dots[0].remove();
                    }
                }                  
        }
    </script>
    <Title>Annotation Website</Title>
</head>
<body>
<div class="position"><H1>Try clicking on the image!</H1></div><br/><br/>
    <div>
        <div id="removeBox">
            <div class="message"></div>
            <button class="yes">Yes</button>
            <button class="no">No</button>
        </div>

        <button onclick='doConfirm("Are you sure?", function yes()
        {
            removeAll()
        }, function no()
        {
        });'>Remove All</button>
        <div>
            <div>
                <a id="test">
                    <img class="demo-box" src="Annotation_Images/1_0.jpg" />
                </a>
            </div>
        </div>
    </div>
</body>
